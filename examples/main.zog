namespace diamond
# include "setup"

import diamond:a/b/&append

module a {
  module b {
    fn &append(&array, &value) {
      &temp = @temp_storage(&value)
      data modify storage &{&array} append from storage &{&temp}
    }
  }
}

fn foo() {
  a = []
  &append(a, 10)
}
